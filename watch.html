<!-- watch.html (v0.1.1-kidsani) -->
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>ì˜ìƒ ë³´ê¸°</title>

  <!-- CSP: ê¸°ì¡´ ì •ì±… ìœ ì§€ + watch ì „ìš©ìœ¼ë¡œ youtube.com ìŠ¤í¬ë¦½íŠ¸ í—ˆìš© ì¶”ê°€(iframe API) -->
  <meta http-equiv="Content-Security-Policy" content="
    default-src 'self';
    connect-src 'self' https://www.googleapis.com https://firestore.googleapis.com https://securetoken.googleapis.com https://identitytoolkit.googleapis.com https://firebaseinstallations.googleapis.com https://www.gstatic.com https://www.youtube.com;
    img-src 'self' data: https://i.ytimg.com;
    frame-src https://www.youtube.com;
    script-src 'self' https://www.gstatic.com https://www.youtube.com 'unsafe-inline';
    style-src 'self' 'unsafe-inline';
    object-src 'none';
    base-uri 'self';
  ">

  <link rel="stylesheet" href="css/style.css"/>
  <style>
    /* í™”ë©´ í†¤/ê°„ê²©ì€ ê¸°ì¡´ ìŠ¤íƒ€ì¼ì„ ë”°ë¥´ê³ , í•„ìš”í•œ ìµœì†Œ ë ˆì´ì•„ì›ƒë§Œ ì •ì˜ */
    body{ padding-top:48px; }
    main{ max-width:1100px; margin:0 auto; padding:0 12px 28px; }
    .player-wrap{ position:relative; width:100%; aspect-ratio:16/9; background:#000; border-radius:12px; overflow:hidden; }
    .player-wrap iframe{ position:absolute; inset:0; width:100%; height:100%; }
    .controls{ display:flex; gap:8px; justify-content:space-between; align-items:center; margin:8px 0 0; }
    .btn{ padding:8px 10px; border-radius:10px; border:1px solid #2a2a2a; background:#151515; color:#fff; cursor:pointer; }
    .btn:hover{ background:#1a1a1a; }
    .title{ margin:10px 0 6px; font-weight:800; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
    .chips{ display:flex; gap:4px; flex-wrap:wrap; }
    .chip{ font-size:12px; padding:1px 6px; border:1px solid #2a2a2a; border-radius:999px; color:#ddd; }
    .right-ctrls{ display:flex; gap:8px; align-items:center; }
    .mute-btn{ padding:6px 10px; border-radius:999px; border:1px solid #2a2a2a; background:#101010; color:#fff; cursor:pointer; }
    .meta{ font-size:12px; color:#9aa0a6; margin-top:4px; }
  </style>
</head>
<body>
  <!-- ìƒë‹¨ë°” (ê¸°ì¡´ í†¤ ìœ ì§€) -->
  <header id="topbar">
    <div class="brand">
      <a href="./" aria-label="í™ˆìœ¼ë¡œ"><img class="brand-logo" src="image/kidsani_r_side.png" alt="KidsAni"/></a>
    </div>
    <div class="right" style="position:relative;">
      <a id="signupLink" class="link" href="signup.html">Sign up</a>
      <a id="signinLink" class="link" href="signin.html">Sign in</a>
      <span id="welcome" class="welcome"></span>
      <button id="menuBtn" class="icon" aria-label="menu">ä¸‰</button>
      <div id="dropdownMenu" class="dropdown hidden" role="menu" aria-hidden="true">
        <button id="btnAbout" type="button">KidsAniëŠ”â€¦</button>
        <button id="btnSignOut" type="button">Sign out</button>
        <button id="btnList" type="button">ì˜ìƒëª©ë¡</button>
        <button id="btnGoUpload" class="menu-strong" type="button">ì¶”ì²œì˜ìƒë“±ë¡</button>
      </div>
    </div>
  </header>

  <main>
    <div class="player-wrap" id="playerWrap">
      <div id="player"></div>
    </div>

    <div class="controls">
      <button id="btnPrev" class="btn" type="button">â—€ ì´ì „</button>
      <div class="right-ctrls">
        <button id="btnMute" class="mute-btn" type="button" aria-pressed="true">ğŸ”‡ ìŒì†Œê±°</button>
        <button id="btnNext" class="btn" type="button">ë‹¤ìŒ â–¶</button>
      </div>
    </div>

    <div class="title" id="title">(ì œëª© ì—†ìŒ)</div>
    <div class="chips" id="chips"></div>
    <div class="meta" id="meta"></div>
  </main>

  <!-- ê³µí†µ ëª¨ë“ˆ -->
  <script type="module" src="js/firebase-init.js"></script>
  <script type="module" src="js/auth.js"></script>

  <!-- YouTube Iframe API (ì´ í˜ì´ì§€ì—ì„œë§Œ ì‚¬ìš©) -->
  <script src="https://www.youtube.com/iframe_api"></script>

  <!-- í˜ì´ì§€ ìŠ¤í¬ë¦½íŠ¸ -->
  <script type="module" src="js/watch.js?v=0.1.1-kidsani"></script>
</body>
</html>
<!-- end of watch.html (v0.1.1-kidsani) -->
